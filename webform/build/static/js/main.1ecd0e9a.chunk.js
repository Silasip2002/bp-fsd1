(this.webpackJsonpwebform=this.webpackJsonpwebform||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),s=a.n(r),o=(a(96),a(85)),i=(a(97),a(180)),l=a(183),u=a(181),j=a(26),d=a.n(j),b=a(42),p=a(21),O=a(182),h=(a(99),a(84)),x=a(23),f=a(31),m=a.n(f),v=a(40),g=Object(v.b)({name:"googleMap",initialState:{mapCenter:{}},reducers:{setMapCenter:function(e,t){console.log("In the map controller  "),console.log(t.payload),e.mapCenter=t.payload},getMapCenter:function(e){return e.mapCenter}}}),S=g.actions,y=S.setMapCenter,C=S.getMapCenter,w=g.reducer,T=a(6);function k(){var e=Object(n.useState)({lat:30.3193039,lng:114.1693611}),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(11),s=Object(p.a)(r,2),o=s[0],i=(s[1],Object(x.c)(C).payload.googleMap.mapCenter);return Object(n.useEffect)((function(){console.log(i.lat),i&&c({lat:i.lat,lng:i.lng})}),[i]),Object(T.jsx)("div",{style:{display:"flex",margin:"0 auto",height:"50vh",width:"50%"},children:Object(T.jsx)(h.a,{bootstrapURLKeys:{key:"AIzaSyAj8n3QtpkgiHqjaxrFufUbxFMX0T3j7Sc"},defaultCenter:a,defaultZoom:o})})}var _=a(83),E=a.n(_),N=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,Object(v.b)({name:"tag",initialState:{selectedTag:0},reducers:{setSelectedTag:function(e,t){e.selectedTag=t.payload},getSelectedTag:function(e){return e.selectedTag}}})),I=N.actions,F=I.setSelectedTag,U=I.getSelectedTag,A=N.reducer,P=a(60),D=a(169),L=a(185),R=a(173),M=a(174),q=a(184),z=a(77),B=a.n(z),H=a(10);function K(){var e=Object(x.b)(),t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=(a[0],a[1]),r=Object(n.useState)(""),s=Object(p.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),u=Object(p.a)(l,2),j=u[0],h=u[1],f=Object(n.useState)(""),v=Object(p.a)(f,2),g=v[0],S=v[1],C=Object(n.useState)(""),w=Object(p.a)(C,2),_=w[0],N=w[1],I=Object(H.g)(),U=B()(),A=Object(H.h)().id;Object(n.useEffect)((function(){A&&z()}),[]);var z=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://p4gp6vy8c1.execute-api.us-east-2.amazonaws.com/dev/user?userId=".concat(A));case 3:t=e.sent,a=t.data,i(a.name),h(a.email),S(a.phone),N(a.address),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("fail to get user data ".concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var t=Object(b.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log("data submit"),console.log("name ".concat(o," , email ").concat(j," , phone ").concat(g," ,address ").concat(_)),n={userId:U,name:o,email:j,phone:g,address:_},t.prev=4,t.next=7,m.a.post("https://p4gp6vy8c1.execute-api.us-east-2.amazonaws.com/dev/user",n);case 7:t.sent&&(I.push("/listUser"),e(F(1)),console.log("save!")),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log("Error ".concat(t.t0));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(T.jsxs)("div",{children:[Object(T.jsxs)("form",{className:"formContainer",onSubmit:K,children:[Object(T.jsxs)(D.a,{container:!0,spacing:4,className:"inputFieldContainer",children:[Object(T.jsx)(D.a,{item:!0,xs:12,children:Object(T.jsx)(O.a,{className:"textFiled",id:"name",label:"Name",variant:"filled",required:!0,value:o,onInput:function(e){return i(e.target.value)}})}),Object(T.jsx)(D.a,{item:!0,xs:12,children:Object(T.jsx)(O.a,{className:"textFiled",id:"email",label:"Email",variant:"filled",required:!0,value:j,onInput:function(e){return h(e.target.value)}})}),Object(T.jsxs)(D.a,{item:!0,xs:12,children:[" ",Object(T.jsx)(O.a,{className:"textFiled",id:"phoneNumber",label:"Phone Number",variant:"filled",required:!0,value:g,onInput:function(e){return S(e.target.value)}})]}),Object(T.jsx)(D.a,{item:!0,xs:12,children:Object(T.jsx)(O.a,{className:"textFiled",id:"address",label:"Address",variant:"filled",required:!0,value:_,onInput:function(e){return N(e.target.value)},onClick:function(){c((function(e){return!e})),Object(P.geocodeByAddress)(_).then((function(e){return Object(P.getLatLng)(e[0])})).then((function(t){console.log("in th create from ",t),e(y(t))})).catch((function(e){return console.error("Error",e)}))},InputProps:{endAdornment:Object(T.jsx)(L.a,{position:"end",children:Object(T.jsx)(R.a,{children:Object(T.jsx)(E.a,{})})})}})})]}),Object(T.jsxs)(D.a,{container:!0,children:[Object(T.jsx)(D.a,{item:!0,xs:6,children:Object(T.jsx)(M.a,{className:"confirm__btn",style:{color:"white",backgroundColor:"blueviolet"},variant:"outlined",type:"submit",children:"Save"})}),Object(T.jsx)(D.a,{item:!0,xs:6,children:Object(T.jsx)(M.a,{className:"cancel__btn",style:{color:"blueviolet",backgroundColor:"white"},variant:"outlined",type:"reset",children:"Delete"})})]})]}),Object(T.jsx)(q.a,{spacing:8,children:Object(T.jsx)(k,{})})]})}var W=a(175),J=a(176),Q=a(177),V=a(178),X=a(179);a(136);function Z(){var e=Object(x.b)(),t=Object(H.g)(),a=Object(n.useState)([]),c=Object(p.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)(!0),i=Object(p.a)(o,2),l=i[0],u=i[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://p4gp6vy8c1.execute-api.us-east-2.amazonaws.com/dev/users");case 3:t=e.sent,s(t.data.users),u(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("List users fail : ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={userId:t},e.prev=1,e.next=4,m.a.delete("https://p4gp6vy8c1.execute-api.us-east-2.amazonaws.com/dev/user",a);case 4:e.sent&&console.log("Delete success!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Delete fail :  ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)("div",{className:"listUserTable__container",children:Object(T.jsx)(W.a,{children:Object(T.jsx)(J.a,{children:Object(T.jsx)(Q.a,{children:l||!r?Object(T.jsx)(V.a,{children:Object(T.jsx)(X.a,{children:"Loading"})}):r.map((function(a){return Object(T.jsxs)(V.a,{children:[Object(T.jsxs)(X.a,{component:"th",scope:"row",children:[Object(T.jsx)("h4",{className:"userName",children:a.name}),Object(T.jsxs)("p",{className:"userDetails",children:[a.email," | (",a.phone.slice(0,3),")",a.phone.slice(3,7),"-",a.phone.slice(7),Object(T.jsx)("br",{}),a.address]})]}),Object(T.jsx)(X.a,{component:"th",scope:"row",children:Object(T.jsx)(M.a,{style:{color:"blueviolet",backgroundColor:"white"},className:"cancel__btn",variant:"outlined",onClick:function(){return n=a.userId,e(F(0)),void t.push("/createUser/".concat(n));var n},children:"Edit"})}),Object(T.jsx)(X.a,{component:"th",scope:"row",children:Object(T.jsx)(M.a,{style:{color:"blueviolet",backgroundColor:"white"},className:"cancel__btn",variant:"outlined",onClick:function(){O(a.userId)},type:"submit",children:"Delete"})})]},a.userId)}))})})})})}a(137);function G(e){var t=Object(x.b)(),a=Object(x.c)(U).payload.tag.selectedTag,n=e.match,c=e.history,r=(n.params.page,{0:"createUser",1:"listUser"});return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(i.a,{position:"static",style:{background:"#5525E4"},children:Object(T.jsxs)(l.a,{value:a,onChange:function(e,a){c.push("/".concat(r[a])),t(F(a))},textColor:"inherit",variant:"fullWidth","aria-label":"BrokerPacket Test",TabIndicatorProps:{style:{background:"white"}},centered:!0,children:[Object(T.jsx)(u.a,{label:"CREATE USER"}),Object(T.jsx)(u.a,{label:"LIST USER"})]})}),0===a&&Object(T.jsx)(K,{}),1===a&&Object(T.jsx)(Z,{})]})}var Y=a(59);var $=function(){return Object(T.jsx)("div",{className:"App",children:Object(T.jsx)(Y.a,{children:Object(T.jsxs)(H.d,{children:[Object(T.jsx)(H.a,{exact:!0,from:"/",to:"/createUser"}),Object(T.jsx)(H.b,{exact:!0,path:"/:page?",render:function(e){return Object(T.jsx)(G,Object(o.a)({},e))}}),Object(T.jsx)(H.b,{path:"/createUser/:id",component:G})]})})})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,186)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},te=Object(v.a)({reducer:{tag:A,googleMap:w}});s.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(x.a,{store:te,children:Object(T.jsx)($,{})})}),document.getElementById("root")),ee()},96:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[138,1,2]]]);
//# sourceMappingURL=main.1ecd0e9a.chunk.js.map